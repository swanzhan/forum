<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ==== Document Title ==== -->
    <title>SociFly - Multipurpose Social Network HTML5 Template</title>
    
    <!-- ==== Document Meta ==== -->
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="keywords" content="">

    <!-- ==== Favicon ==== -->
    <link rel="icon" href="favicon.png" type="image/png">

    <!-- ==== Google Font ==== -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,500,600,700%7CRoboto:300,400,400i,500,700">

    <!-- ==== Plugins Bundle ==== -->
    <link rel="stylesheet" href="css/plugins.min.css">
    
    <!-- ==== Main Stylesheet ==== -->
    <link rel="stylesheet" href="style.css">
    
    <!-- ==== Responsive Stylesheet ==== -->
    <link rel="stylesheet" href="css/responsive-style.css">
    
    <!-- ==== Color Scheme Stylesheet ==== -->
    <link rel="stylesheet" href="css/colors/color-1.css" id="changeColorScheme">
    
    <!-- ==== Custom Stylesheet ==== -->
    <link rel="stylesheet" href="css/custom.css">

    <!-- ==== HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries ==== -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>

    <!-- Preloader Start -->
    <div id="preloader">
        <div class="preloader--inner"></div>
    </div>
    <!-- Preloader End -->

    <!-- Wrapper Start -->
    <div id="content" class="wrapper">
        <!-- Header Section Start -->
        <header id="header" class="header--section style--1">

            <!-- Header Navbar Start -->
            <div class="header--navbar navbar bg-black" data-trigger="sticky">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#headerNav">
                            <span class="sr-only">Toggle Navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>

                        <!-- Header Navbar Logo Start -->
                        <div class="header--navbar-logo navbar-brand">
                            <a href="index.html">
                                <!--<img src="img/logo-white.png" class="normal" alt="">
                                <img src="img/logo-black.png" class="sticky" alt="">-->
                            </a>
                        </div>
                        <!-- Header Navbar Logo End -->
                    </div>

                    <div id="headerNav" class="navbar-collapse collapse float--right">
                        <!-- Header Nav Links Start -->
                        <ul class="header--nav-links style--1 nav ff--primary">
                            <li>
                                <a href="index.html" class="btn-link">
                                    <span>主页</span>
                                </a>
                            </li>
                            <li><a href="activity.html"><span>动态</span></a></li>
                            <li><a href="members.html"><span>成员</span></a></li>
                            <li><a href="groups.html"><span>小组</span></a></li>

                            <li class="dropdown">
                                <a href="#" class="btn-link active">
                                    <i class="fa mr--8 fa-user-o"></i>
                                    <span>帐号</span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="login.html">登录</a></li>
                                    <li></li>
                                    <li><a href="register.html">注册</a></li>
                                </ul>
                            </li>
                        </ul>
                        <!-- Header Nav Links End -->
                    </div>
                </div>
            </div>
            <!-- Header Navbar End -->
        </header>
        <!-- Header Section End -->

        <!-- Banner Section Start -->
        <section class="banner--section">
            <!-- Banner Slider Start -->
            <div class="banner--slider owl-carousel" data-owl-loop="false">
                <!-- Banner Item Start -->
                <div class="banner--item" data-bg-img="img/banner-img/home-version-3/slider-bg-01.jpg" data-overlay="0.5">
                    <div class="vc--parent">
                        <div class="vc--child">
                            <div class="container">
                                <div class="row row--md-vc">
                                    <div class="col-md-7">
                                        <!-- Banner Content Start -->
                                        <div class="banner--content pt--70 pb--80">
                                            <div class="title">
                                                <h1 class="h2 text-white">欢迎来到Free社区</h1>
                                            </div>

                                            <div class="sub-title">
                                                <h2 class="h1 text-white">关注、分享、参与</h2>
                                            </div>

                                            <div class="desc fs--16">
                                                <p>欢迎来到Free社区，这里是与志同道合的朋友分享和交流的热门去处。
                                                    我们致力于为您提供一个轻松愉快的平台，让您能够与他人一起讨论、
                                                    分享和参与感兴趣的话题。不论您是寻找答案、分享经验，还是结识
                                                    新朋友，我们都能实现</p>
                                            </div>

                                            <div class="action text-uppercase">
                                                <a href="#" class="btn btn-white">了解更多</a>
                                                <a href="index.html" class="btn btn-primary">返回主页</a>
                                            </div>
                                        </div>
                                        <!-- Banner Content End -->
                                    </div>

                                    <div class="col-md-4 col-md-offset-1 col-xs-8 col-xs-offset-2 col-xxs-12">
                                        <!-- Widget Start -->
                                        <div class="widget">
                                            <h2 class="h4 fw--700 widget--title">登录</h2>

                                            <!-- Buddy Finder Widget Start -->
                                            <div class="buddy-finder--widget">
                                                <form action="#">
                                                    <div class="row">

                                                        <div class="col-xs-6 col-xxs-12">
                                                            <div class="form-group">
                                                                <span class="text-darker ff--primary fw--500">用户名</span>
                                                                <input v-model="userInfo.username" type="text" name="name" placeholder="请输入用户名" class="form-control" required>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6 col-xxs-12">
                                                            <div class="form-group">
                                                                <span class="text-darker ff--primary fw--500">密码</span>
                                                                <input v-model="userInfo.password" type="password" name="name" placeholder="请输入密码" class="form-control" required>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-6 col-xxs-12">
                                                            <div class="form-group">
                                                                <div>
                                                                    <label for="checkInput">验证码：</label>
                                                                    <input v-model="checkCode" @change="check" type="text" id="checkInput" style="display: inline-block;" placeholder="请输入验证码">
                                                                    <img @click.prevent="refresh()" id="codeImage" src="/free/check/code" alt="验证码" style="display: inline-block; width: 100px; height: 30px;">
                                                                </div>
                                                                <div id="result"></div>
                                                            </div>
                                                        </div>
                                                        <div v-if="errorMessage !== ''" class="col-xs-6 col-xxs-12">
                                                            <div class="form-group">
                                                                <span class="text-primary ff--primary fw--500">{{errorMessage}}</span>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-12">
                                                            <button @click.prevent="login()" type="submit" class="btn btn-primary">登录</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- Buddy Finder Widget End -->
                                        </div>
                                        <!-- Widget End -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Banner Item End -->
            </div>
            <!-- Banner Slider End -->
        </section>
        <!-- Banner Section End -->

        <!-- Footer Section Start -->
        <footer id="footer" class="footer--section">
            <!-- Footer Widgets Start -->
            <!-- Footer Widgets End -->

            <!-- Footer Extra Start -->
            <!-- Footer Extra End -->

            <!-- Footer Copyright Start -->
            <div class="footer--copyright pt--30 pb--30 bg-darkest">
                <div class="container">
                    <div class="text fw--500 fs--14 text-center">
                        <p>Copyright &copy; Soci<span>fly</span>. All Rights <a href="http://www.bootstrapmb.com/" title="bootstrapmb">Reserved</a>.</p>
                    </div>
                </div>
            </div>
            <!-- Footer Copyright End -->
        </footer>
        <!-- Footer Section End -->
    </div>
    <!-- Wrapper End -->

    <!-- Back To Top Button Start -->
    <div id="backToTop">
        <a href="#" class="btn"><i class="fa fa-caret-up"></i></a>
    </div>
    <!-- Back To Top Button End -->

    <!-- ==== Plugins Bundle ==== -->
    <script src="js/plugins.min.js"></script>

    <!-- ==== Main Script ==== -->
    <script src="js/main.js"></script>
    <script src="js/jquery-3.3.1.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/axios.js"></script>
    <script>
        new Vue({
            el: "#content",
            data: {
                userInfo: {
                    username: "",
                    password: ""
                },
                errorMessage: "",
                isChecked: false,
                checkCode: ""
            },
            methods: {
                login() {
                    let _this = this;
                    this.check();
                    if (this.isChecked) {
                        axios.post("/free/userInfo/login", this.userInfo
                        ).then(function (response) {
                            let resultInfo = response.data;
                            if (resultInfo.flag) { // 登录成功
                                sessionStorage.setItem("userInfo", JSON.stringify(response.data.data))
                                location.href = "index.html";
                            } else {
                                _this.errorMessage = resultInfo.errorMsg;
                            }
                        });
                    }
                },
                refresh() {
                    $("#codeImage").attr("src", "/free/check/code?" + new Date().getTime());
                },
                check() {
                    const _this = this;
                    axios.get("/free/check/check?check=" + _this.checkCode
                    ).then(function (response) {
                        if (response.data) { // 验证码正确
                            _this.isChecked = true;
                        } else {
                            _this.errorMessage = "验证码错误"
                        }
                    });
                }
            }
        })
    </script>


</body>
</html>